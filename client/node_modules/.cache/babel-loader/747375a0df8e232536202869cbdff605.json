{"ast":null,"code":"import _objectSpread from \"/Users/mohitmojo/Downloads/Sensegrass/Learnings/graphql/graphql-project/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/mohitmojo/Downloads/Sensegrass/Learnings/graphql/graphql-project/client/src/Components/Auth/Signin.js\";\nimport React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { Mutation } from \"react-apollo\";\nimport { SIGNIN_USER } from \"../../queries\";\nconst initialState = {\n  username: \"\",\n  password: \"\"\n};\n\nclass Signin extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = _objectSpread({}, initialState);\n\n    this.clearState = () => {\n      this.setState(_objectSpread({}, initialState));\n    };\n\n    this.handleChange = event => {\n      const _event$target = event.target,\n            name = _event$target.name,\n            value = _event$target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = (event, SigninUser) => {\n      event.preventDefault();\n      SigninUser().then(async ({\n        data\n      }) => {\n        // console.log(data);\n        localStorage.setItem(\"token\", data.signinUser.token);\n        await this.props.refetch();\n        this.clearState();\n        this.props.history.push(\"/\");\n      });\n    };\n\n    this.validateForm = () => {\n      const _this$state = this.state,\n            username = _this$state.username,\n            password = _this$state.password;\n      const isInvalid = !username || !password;\n      return isInvalid;\n    };\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          username = _this$state2.username,\n          password = _this$state2.password;\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"columns\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"Signin\")), React.createElement(\"div\", {\n      className: \"column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default withRouter(Signin);","map":{"version":3,"sources":["/Users/mohitmojo/Downloads/Sensegrass/Learnings/graphql/graphql-project/client/src/Components/Auth/Signin.js"],"names":["React","withRouter","Mutation","SIGNIN_USER","initialState","username","password","Signin","Component","state","clearState","setState","handleChange","event","target","name","value","handleSubmit","SigninUser","preventDefault","then","data","localStorage","setItem","signinUser","token","props","refetch","history","push","validateForm","isInvalid","render"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,QAAT,QAAyB,cAAzB;AACA,SAASC,WAAT,QAA4B,eAA5B;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,QAAQ,EAAE,EADS;AAEnBC,EAAAA,QAAQ,EAAE;AAFS,CAArB;;AAKA,MAAMC,MAAN,SAAqBP,KAAK,CAACQ,SAA3B,CAAqC;AAAA;AAAA;AAAA,SACnCC,KADmC,qBAE9BL,YAF8B;;AAAA,SAKnCM,UALmC,GAKtB,MAAM;AACjB,WAAKC,QAAL,mBAAmBP,YAAnB;AACD,KAPkC;;AAAA,SASnCQ,YATmC,GASpBC,KAAK,IAAI;AAAA,4BACEA,KAAK,CAACC,MADR;AAAA,YACdC,IADc,iBACdA,IADc;AAAA,YACRC,KADQ,iBACRA,KADQ;AAEtB,WAAKL,QAAL,CAAc;AACZ,SAACI,IAAD,GAAQC;AADI,OAAd;AAGD,KAdkC;;AAAA,SAgBnCC,YAhBmC,GAgBpB,CAACJ,KAAD,EAAQK,UAAR,KAAuB;AACpCL,MAAAA,KAAK,CAACM,cAAN;AAEAD,MAAAA,UAAU,GAAGE,IAAb,CAAkB,OAAO;AAAEC,QAAAA;AAAF,OAAP,KAAoB;AACpC;AACAC,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,IAAI,CAACG,UAAL,CAAgBC,KAA9C;AACA,cAAM,KAAKC,KAAL,CAAWC,OAAX,EAAN;AACA,aAAKjB,UAAL;AACA,aAAKgB,KAAL,CAAWE,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACD,OAND;AAOD,KA1BkC;;AAAA,SA4BnCC,YA5BmC,GA4BpB,MAAM;AAAA,0BACY,KAAKrB,KADjB;AAAA,YACXJ,QADW,eACXA,QADW;AAAA,YACDC,QADC,eACDA,QADC;AAEnB,YAAMyB,SAAS,GAAG,CAAC1B,QAAD,IAAa,CAACC,QAAhC;AACA,aAAOyB,SAAP;AACD,KAhCkC;AAAA;;AAkCnCC,EAAAA,MAAM,GAAG;AAAA,yBACwB,KAAKvB,KAD7B;AAAA,UACCJ,QADD,gBACCA,QADD;AAAA,UACWC,QADX,gBACWA,QADX;AAGP,WACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CAFF,EAKE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,CADF,CADF;AAaD;;AAlDkC;;AAqDrC,eAAeL,UAAU,CAACM,MAAD,CAAzB","sourcesContent":["import React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { Mutation } from \"react-apollo\";\nimport { SIGNIN_USER } from \"../../queries\";\n\nconst initialState = {\n  username: \"\",\n  password: \"\"\n};\n\nclass Signin extends React.Component {\n  state = {\n    ...initialState\n  };\n\n  clearState = () => {\n    this.setState({ ...initialState });\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value\n    });\n  };\n\n  handleSubmit = (event, SigninUser) => {\n    event.preventDefault();\n\n    SigninUser().then(async ({ data }) => {\n      // console.log(data);\n      localStorage.setItem(\"token\", data.signinUser.token);\n      await this.props.refetch();\n      this.clearState();\n      this.props.history.push(\"/\");\n    });\n  };\n\n  validateForm = () => {\n    const { username, password } = this.state;\n    const isInvalid = !username || !password;\n    return isInvalid;\n  };\n\n  render() {\n    const { username, password } = this.state;\n\n    return (\n      <div className=\"container\">\n        <div className=\"columns\">\n          <div className=\"column\"></div>\n          <div className=\"column\">\n            <h2>Signin</h2>\n          </div>\n          <div className=\"column\"></div>\n\n          \n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Signin);\n"]},"metadata":{},"sourceType":"module"}